\chapter{Quadtree}

% tikz
% http://www.texample.net/tikz/examples/merge-sort-recursion-tree/
% http://www.texample.net/tikz/examples/probability-tree/

% set overall layout of tree
\tikzstyle{level 1}=[level distance=3.0cm, sibling distance=5.0cm]
\tikzstyle{level 2}=[level distance=4.0cm, sibling distance=2.5cm]

% define styles for bags and leaves
\tikzstyle{bag} = [text width=4em, text centered]
\tikzstyle{end} = [circle, minimum width=3pt, inner sep=0pt]

\begin{figure}[htb]
\centering
\begin{tikzpicture}[grow=right, sloped]
%\begin{tikzpicture}[grow=right]
\node[circle, draw] {\tiny $10,000$}
	child {
		node[circle, draw] {\tiny 9,900}
			child {
				node[circle, draw, fill=redfaded,
				     label=right:
				{\scriptsize $P(\overline{C} \cap \overline{T}) = 
				P(\overline{C}) \cdot P(\overline{T}|\overline{C}) = 
				\frac{9,900}{10,000} \cdot
				\frac{9,405}{9,900} = 
				\frac{9,405}{10,000}$}
				    ] {\tiny 9,405}
				edge from parent
				node[above] {\scriptsize $P(\overline{T}|\overline{C}) = 0.95$}
				node[below] {\scriptsize specificity}
			}
			child {
				node[circle, draw, fill=yellowfaded,
				     label=right:
				{\scriptsize $P(\overline{C} \cap T) = 
				P(\overline{C}) \cdot P(T|\overline{C}) = 
				\frac{9,900}{10,000} \cdot
				\frac{495}{9,900} = 
				\frac{495}{10,000}$}
			     	    ] {\tiny 495}
				edge from parent
				node[above] {\scriptsize $P(T|\overline{C}) = 0.05$}
				node[below] {\hspace{1cm}\scriptsize false positive}
			}
		edge from parent
		node[above] {\scriptsize $P(\overline{C})=0.99$}
	}
	child {
		node[circle, draw] {\tiny 100}
			child {
				node[circle, draw, fill=horange,
				     label=right:
				{\scriptsize $P(C \cap \overline{T}) = P(C) \cdot P(\overline{T}|C) = 
				\frac{100}{10,000}\cdot\frac{20}{100} = \frac{20}{10,000}$}
				    ] {\tiny 20}
				edge from parent
				node[above] {\scriptsize $P(\overline{T}|C) = 0.20$}
				node[below] {\scriptsize false negative}
			}
			child {
				node[circle, draw, fill=greenfaded,
				     label=right:
				{\scriptsize $P(C \cap T) = P(C) \cdot P(T|C) = \frac{100}{10,000}
				\cdot\frac{80}{100} = \frac{80}{10,000}$}
			     	    ] {\tiny 80}
				edge from parent
				node[above] {\scriptsize $P(T|C) = 0.80$}
				node[below] {\hspace{1cm}\scriptsize sensitivity}
			}
		edge from parent
		node[above] {\scriptsize $P(C)=0.01$}
		node[below] {\scriptsize prevalence}
	}; % remember trailing semi-colon after last child
\end{tikzpicture}
% \caption{Decision tree for mammogram as a test $T$ for breast cancer $C$.} 
\label{fig:quadtree}
\end{figure}
